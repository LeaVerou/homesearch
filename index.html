<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Home search</title>
	<link rel="icon" href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y=".9em" font-size="90">🏡</text></svg>'>
	<link rel="stylesheet" href="https://get.mavo.io/mavo.css">
	<link rel="stylesheet" href="style.css">
</head>
<body mv-app="homesearch" mv-storage="https://github.com/leaverou/homesearch/homes.json" class="mv-autoedit">

<table>
	<thead>
		<tr>
			<th>Picture</th>
			<th>URL</th>
			<th>Address</th>
			<th>Basic Info</th>
			<th>Walk to Capucine</th>
			<th>Notes</th>
		</tr>
	</thead>
	<tbody mv-list>
		<tr mv-list-item="home">
			<td>
				<img src="" alt="" property="picture">
			</td>
			<td>
				<a property="url">[getWebsite(url)]</a>
			</td>
			<td>
				<a href="https://www.google.com/maps/search/[address]?hl=en" property="address" mv-attribute="null" target="_blank"></a>
			</td>
			<td>
				<div class="basic-info">
					<div title="Beds">🛏 <span property="beds" mv-default="2"></span></div>
					<div title="Baths">🛁 <span property="baths" mv-default="1"></span></div>
					<div title="Monthly rent">💰 <span property="rent"></span></div>
					<div title="Broker fee">🤑 <span property="fee" mv-options="None, ½ rent, 1 rent, Unknown"></span></div>
					<div title="Area">📐 <span property="area"></span></div>
					<div title="Laundry">🧺 <span property="laundry" mv-options="On-site, In-basement, None"></span></div>
					<div title="Parking">🚗 <span property="parking" mv-options="Street, Off-street"></span></div>
					<div title="Level">🪜 <span property="level" mv-options="Ground floor, 2nd floor, Unknown"></span></div>
				</div>
			</td>
			<td>
				<a href="https://www.google.com/maps/dir/[address]/Capucine+Montessori+School,+Massachusetts+Avenue,+Cambridge,+MA,+USA/@42.3921544,-71.123942,17z/?hl=en" target="_blank">
					<span property="commute"></span>
				</a>
			</td>
			<td property="notes"></td>
		</tr>
	</tbody>
</table>

<script src="https://get.mavo.io/mavo.js"></script>
<script>
function getWebsite(url) {
	return !!Mavo.value(url) ? new URL(url).host.replace(/^www\./, "") : "(Website)";
}

document.addEventListener("click", evt => {
	if (evt.target.closest('[mv-mode="edit"] a[property]')) {
		evt.preventDefault();
	}
});
</script>
</body>
</html>